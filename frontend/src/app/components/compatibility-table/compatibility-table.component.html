<div class="compat-table flex-grow rounded-2xl overflow-hidden flex flex-col shadow-2xl">
  <div
    class="compat-table__header px-4 sm:px-6 py-3 sm:py-4 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2">
    <h2 class="compat-table__title font-bold flex items-center gap-2">
      <lucide-icon [img]="Box" [size]="18"></lucide-icon>
      Tabla de Compatibilidades
    </h2>
    <span
      class="compat-table__count text-xs px-2 py-1 rounded whitespace-nowrap">
      {{ compatibilities.length }} Referencias encontradas
    </span>
  </div>

  <div class="overflow-auto custom-scrollbar flex-grow p-0">
    <table class="compat-table__table w-full min-w-[680px] text-left border-collapse">
      <thead
        class="compat-table__thead sticky top-0 z-10 text-xs uppercase font-semibold tracking-wider backdrop-blur-sm">
        <tr>
          <th class="px-4 sm:px-6 py-3 sm:py-4">Part Compatible #</th>
          <th class="px-4 sm:px-6 py-3 sm:py-4">Equipo / Marca</th>
          <th class="px-4 sm:px-6 py-3 sm:py-4">Marca Original</th>
        </tr>
      </thead>
      <tbody class="compat-table__tbody text-sm">
        <tr *ngFor="let item of compatibilities" class="compat-table__row transition-colors group">
          <td class="compat-table__cell compat-table__compatible px-4 sm:px-6 py-3 font-mono font-semibold break-all">
            {{ item.compatiblePart }}
          </td>
          <td class="compat-table__cell px-4 sm:px-6 py-3">
            <div class="compat-table__equipment font-medium break-words">{{ item.equipment }}</div>
            <div class="compat-table__brand text-xs">{{ item.brand }}</div>
          </td>
          <td class="compat-table__cell px-4 sm:px-6 py-3">
            <span class="compat-table__badge inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium">
              {{ item.brand }}
            </span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
