<div class="flex-grow bg-slate-900 border border-slate-700 rounded-2xl overflow-hidden flex flex-col shadow-2xl">
  <div
    class="bg-[var(--primary)]/10 px-6 py-4 border-b border-slate-700 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2">
    <h2 class="text-[var(--text)] font-bold flex items-center gap-2">
      <lucide-icon [img]="Box" [size]="18"></lucide-icon>
      Tabla de Compatibilidades
    </h2>
    <span
      class="text-xs bg-[var(--primary)]/20 text-[var(--text)] px-2 py-1 rounded border border-[var(--line)] whitespace-nowrap">
      {{ compatibilities.length }} Referencias encontradas
    </span>
  </div>

  <div class="overflow-auto custom-scrollbar flex-grow p-0">
    <table class="w-full text-left border-collapse">
      <thead
        class="bg-slate-950/50 sticky top-0 z-10 text-xs uppercase text-slate-400 font-semibold tracking-wider backdrop-blur-sm">
        <tr>
          <th class="px-6 py-4 border-b border-slate-800">Part Compatible #</th>
          <th class="px-6 py-4 border-b border-slate-800">Equipo / Marca</th>
          <th class="px-6 py-4 border-b border-slate-800">Marca Original</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-slate-800 text-sm">
        <tr *ngFor="let item of compatibilities" class="hover:bg-[var(--primary)]/5 transition-colors group">
          <td class="px-6 py-3 font-mono text-[var(--primary)] font-medium group-hover:text-white transition-colors">
            {{ item.compatiblePart }}
          </td>
          <td class="px-6 py-3 text-slate-300">
            <div class="font-medium text-white">{{ item.equipment }}</div>
            <div class="text-xs text-slate-500">{{ item.brand }}</div>
          </td>
          <td class="px-6 py-3">
            <span
              class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-800 text-slate-300 border border-slate-700">
              {{ item.brand }}
            </span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>